<!doctype html>
<body>
    <canvas id="gameCanvas" width="600" height="600"></canvas>
    <script>
        var canvas, canvasContext;

        window.onload = function() {
            canvas = document.getElementById('gameCanvas');
            canvasContext = canvas.getContext('2d');

            document.addEventListener('keydown', keyPressed);
            document.addEventListener('keyup', keyReleased);

            setInterval(mainloop, 1000/50);
        }

        var userName = '';
        while (userName == '' || userName == null) {
            userName = prompt('What is your name?', ''); // Asks the user their username
        }

        
        var difficulty = '';
        var pass = false;

        while (pass == false) {
            difficulty = prompt('How hard do you want it? Easy, Medium, Hard, Extreme, Demon');
            difficulty = difficulty.toLowerCase();
            if (difficulty == 'easy' || difficulty == 'medium' || difficulty == 'hard' || difficulty == 'extreme' || difficulty == 'demon') {
                pass = true;
            }
        } 

        if (difficulty == 'easy') {
            maxSpeed = 5;
            minSpeed = 2;
        }

        if (difficulty == 'medium') {
            maxSpeed = 10;
            minSpeed = 5;
        }

        if (difficulty == 'hard') {
            maxSpeed = 15;
            minSpeed = 11;
        }
        if (difficulty == 'extreme') {
            maxSpeed = 18;
            minSpeed = 14;
        }
        if (difficulty == 'demon') {
            maxSpeed = 21;
            minSpeed = 19;
        }


        var playerXpos = 300;
        var playerYpos = 300;
        var playerXspeed = 5;
        var playerYspeed = 5;
        const PLAYER_SIZE = 10;

        var enemyXpos = 0;
        var enemyYpos = 0;
        var enemyXspeed = 0;
        var enemyYspeed = 5;
        const ENEMY_SIZE = 10;

        var Akeypress = false;
        var Dkeypress = false;
        var Wkeypress = false;
        var Skeypress = false;
    
        const A_KEY = 65;
        const D_KEY = 68;
        const W_KEY = 87;
        const S_KEY = 83;

        function mainloop(){
            colorRect(0,0,canvas.width,canvas.height,'black'); // bg
            
            colorRect(playerXpos,playerYpos,PLAYER_SIZE,PLAYER_SIZE,'blue'); // player
            colorRect(enemyXpos,enemyYpos,ENEMY_SIZE,ENEMY_SIZE,'red'); // enemy
            playerMove();
        }

        function playerMove(){
            if(Akeypress){
            playerXpos -= playerXspeed;
            }
            if(Dkeypress){
            playerXpos -= playerXspeed;
            }
            if(Wkeypress){
            playerYpos -= playerYspeed;
            }
            if(Skeypress){
            playerYpos -= playerYspeed;
            }
        }
        function keyPressed(evt) {
            if (evt.keyCode == D_KEY) {
                DKeyPressed = true;
            }
            if (evt.keyCode == A_KEY) {
                AKeyPressed = true;
            }
            if (evt.keyCode == W_KEY) {
                WKeyPressed = true;
            }
            if (evt.keyCode == S_KEY) {
                SKeyPressed = true;
            }
        }

        function keyReleased(evt){
            if (evt.keyCode == D_KEY) {
                DKeyPressed = false;
            }
            if (evt.keyCode == A_KEY) {
                AKeyPressed = false;
            }
            if (evt.keyCode == W_KEY) {
                WKeyPressed = false;
            }
            if (evt.keyCode == S_KEY) {
                SKeyPressed = false;
            }
        }

       

        function colorRect(x,y,w,h,c){
        canvasContext.fillStyle = c;
        canvasContext.fillRect(x,y,w,h);
        }

    </script>
</body>